(this["webpackJsonpapp-react-redux-api"]=this["webpackJsonpapp-react-redux-api"]||[]).push([[0],{18:function(e,t,a){e.exports=a(38)},29:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),o=a.n(r),i=a(1),s=(a(29),a(5)),l=a.n(s),u=a(9),m=a(3),d=(a(31),a(11)),v=a(2),f=a(6),_=a(17),E={movies:[],searchTitle:"",loading:!1,currentPage:1,moviesPerPage:10,totalMovies:0,history:[]},p=function(e){return e.movies},b=function(e){return e.searchTitle},g=function(e){return e.loading},h=function(e){return e.currentPage},O=function(e){return e.moviesPerPage},N=function(e){return e.totalMovies},j={setMovies:function(e){return{type:"SET_MOVIES",movies:e}},setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",pageNumber:e}},setLoading:function(e){return{type:"SET_LOADING",payload:e}},setSearchTitle:function(e){return{type:"SET_SEARCH_TITLE",query:e}},setTotalMovies:function(e){return{type:"SET_TOTAL_MOVIES",totalMovies:e}}},T=Object(f.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MOVIES":return Object(v.a)(Object(v.a)({},e),{},{movies:t.movies});case"ADD_MOVIE":return Object(v.a)(Object(v.a)({},e),{},{movies:[t.movie].concat(Object(d.a)(e.movies))});case"DELETE_MOVIE":return Object(v.a)(Object(v.a)({},e),{},{movies:e.movies.filter((function(e){return e.imdbID!==t.imdbID}))});case"SET_CURRENT_PAGE":return Object(v.a)(Object(v.a)({},e),{},{currentPage:t.pageNumber});case"SET_LOADING":return Object(v.a)(Object(v.a)({},e),{},{loading:t.payload});case"SET_SEARCH_TITLE":return Object(v.a)(Object(v.a)({},e),{},{searchTitle:t.query});case"SET_TOTAL_MOVIES":return Object(v.a)(Object(v.a)({},e),{},{totalMovies:t.totalMovies});default:return e}}),Object(_.composeWithDevTools)());!function(e){T.subscribe((function(){sessionStorage.setItem("moviesStore",JSON.stringify(e))}))}(E);var S,y=T,M=(a(32),a(33),a(4)),I=a.n(M),P=function(e){var t=e.Title,a=e.Description,r=void 0===a?"":a,o=e.Poster,s=e.imdbUrl,l=e.imdbID,u=Object(n.useState)(!1),d=Object(m.a)(u,2),v=d[0],f=d[1],_=Object(i.b)();return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:I()("card__container",{"is-flipped":v})},c.a.createElement("figure",{className:"card__face card__face--front "},c.a.createElement("img",{src:o,alt:"Film logo",className:"card__image"})),c.a.createElement("div",{className:"card__face card__face--back "},c.a.createElement("div",{className:"media-content"},c.a.createElement("p",{className:"title"},t)),c.a.createElement("div",{className:"content"},r,c.a.createElement("br",null),c.a.createElement("a",{href:s},"IMDB")))),c.a.createElement("div",{className:"card__content"},c.a.createElement("div",{className:"card__content--buttons"},c.a.createElement("button",{type:"button",className:"card__content--button",onClick:function(){f(!v)}},"Show more"),c.a.createElement("button",{type:"button",className:"card__content--button",onClick:function(){_(j.deleteMovie(l))}},"Delete film"))))},D=(a(34),function(){return c.a.createElement("div",{className:"Loader"},c.a.createElement("div",{className:"Loader__content"}))}),L=function(e){var t=e.movies;return e.loading?c.a.createElement(D,null):c.a.createElement("div",{className:"movies"},t.map((function(e){return c.a.createElement(P,Object.assign({key:e.imdbId},e))})))},k=(a(35),"https://www.omdbapi.com/");function C(e,t){return fetch("".concat(k,"?apikey=d905f6c1&s=").concat(e,"&page=").concat(t)).then((function(e){return e.json()}))}console.log(C("terminator")),console.log((S="Terminator Genisys",fetch("".concat(k,"?apikey=d905f6c1&t=").concat(S)).then((function(e){return e.json()}))));a(36);var w=function(e){var t=e.searchMovies,a=e.notFound,n=e.setNotFound,r=Object(i.b)(),o=Object(i.c)(b);return c.a.createElement("div",{className:"header"},c.a.createElement("form",{className:"finder__form",onSubmit:function(e){e.preventDefault(),t(o,1),r(j.setSearchTitle(""))}},c.a.createElement("div",{className:"header__field"},c.a.createElement("label",{className:"header__label",htmlFor:"movie-title"},"Movies searching"),c.a.createElement("div",{className:"header__control"},c.a.createElement("input",{type:"text",id:"movie-title",placeholder:"Enter a title to search...",className:I()({header__input:!0,"header__input--is-danger":a}),value:o,onChange:function(e){r(j.setSearchTitle(e.target.value)),n(!1)}})),a&&c.a.createElement("p",{className:"header__help is-danger"},"Can't find a movie with such a title")),c.a.createElement("div",{className:"header__field header__field--is-grouped"},c.a.createElement("div",{className:"header__control"},c.a.createElement("button",{type:"submit",className:"header__button is-light"},"Find movies")))))},A=(a(37),function(e){var t=e.moviesPerPage,a=e.totalMovies,n=e.paginate,r=(Object(i.b)(),Object(i.c)(h)),o=[];return function(e,t,a){if(t>10)if(a>5)for(var n=a-4;n<=a+5&&(e.push(n),n!==t);n++);else for(var c=1;c<=10&&(e.push(c),c!==t);c++);else for(var r=1;r<=t;r++)e.push(r)}(o,Math.ceil(a/t),r),c.a.createElement("div",{className:"pagination"},c.a.createElement("nav",{className:"pagination__nav"},c.a.createElement("div",{className:"pagination__pages"},o.map((function(e){return c.a.createElement("span",{key:e,className:I()("pagination__page",{"pagination__current-page":r===e}),onClick:function(){n(e)}},e)})))))}),F=function(){var e=Object(i.b)(),t=Object(i.c)(p),a=Object(i.c)(g),r=Object(i.c)(h),o=Object(i.c)(O),s=Object(i.c)(N),d=Object(n.useState)(!1),v=Object(m.a)(d,2),f=v[0],_=v[1],E=function(){var t=Object(u.a)(l.a.mark((function t(a,n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(a,n);case 2:c=t.sent,e(j.setLoading(!0)),console.log(c),"False"===c.Response?_(!0):(e(j.setMovies(c.Search)),e(j.setTotalMovies(+c.totalResults)),e(j.setLoading(!1))),e(j.setLoading(!1));case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),b=r*o,T=b-o;console.log(t);var S=t.slice(T,b);return c.a.createElement(c.a.Fragment,null,c.a.createElement(w,{searchMovies:E,notFound:f,setNotFound:_}),c.a.createElement("div",{className:"page"},c.a.createElement("div",{className:"page__content"},c.a.createElement(L,{movies:S,loading:a}),c.a.createElement("div",{className:"page__pagination"},c.a.createElement(A,{moviesPerPage:o,totalMovies:s,paginate:function(t){return e(j.setCurrentPage(t))}}))),c.a.createElement("div",{className:"page__sidebar"})))};o.a.render(c.a.createElement(i.a,{store:y},c.a.createElement(F,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.8a611e5a.chunk.js.map